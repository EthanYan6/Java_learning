# Java 基础

<p align="right">作者：小闫同学   

<p align="right">公众号：全栈技术精选

学习一门语言，第一件事当然是输出 `Hello Wrold`，下面使用 `Java` 编写一个最简单的应用程序：

```java
public class FirstSample
{
    public static void main(String[] args)
    {
        System.out.println("Hello Wrold!");
    }
}
```

**注意事项：**

1.Java 对大小写敏感。

2.`public` 为访问修饰符，此处简单理解为它用于控制程序的其他部分对这段代码的访问级别。

3.`class` 为类，表明 Java 程序中的全部内容都包含在类中。

4.关键字 `class` 后面紧跟类名。

> 类名定义规则：名字以字母开头，后面可以跟字母和数字的任意组合，每个单词首字母大写。长度不受限制。同 Python，起名不能使用 Java 的保留字，如 public 等。（凡事讲究先来后到）
>
> 如果你有一些编程基础，那么可以理解为它符合驼峰命名规则。

5.在文件中书写完上述代码后，文件需命名为 `FirstSample.java`

> **源代码的文件名必须与公共类的名字相同，且大小写一定要注意！！！**

6.Java 中代码块都是以大括号包裹起来的。

## 1.输出

上面已经有了最简单的输出方式：

```java
System.out.println();
```

它使用了 `System.out` 对象的 `println` 方法。类似于 Python 中的 `print()`

> 如果你想输出语句后，不执行换行的效果，可以使用 `System.out` 对象的 `print`方法。类比 Python 中如下代码：
>
> ```python
> print("xxx", end="")
> ```

下面测试一下：

```java
public class HelloDemo {
    public static void main(String[] args) {
        // 尝试 println 方法
        System.out.println("hello world");
        System.out.println("Ethan");
        // 尝试 print 方法
        System.out.print("hello world");
        System.out.print("Ethan");
    }
}
```

最后输出结果为：

```java
hello world
Ethan
hello worldEthan
```

> 可看出 println 自带换行效果，print 则无此效果。

## 2.注释

注释为了让日后自己还能看懂自己的代码，或者让别人接盘。下面看一下 Java 中是如何书写注释的：

### 2.1 单行注释

单行注释使用符号 `//`，其注释内容从 `//` 开始到本行结束，例：

```java
// 我是单行注释
```

### 2.2 多行注释

多行注释使用符号 `/**` 开始，符号 `*/` 结束。例如：

```java
/**
 * 这是多行注释
 * 为了表明多行，这是第2行
 * 这是第3行
 */
```

> 也许你会好奇，为什么每一行注释前还有一个 `*` 号，这是使用编辑器 `IDEA` 时输入 `/**` 后按回车键自动生成的效果。

## 3.数据类型

Java 是一种强类型语言，即在使用变量前需声明其类型。在 Java 中共有 8 中基本数据类型，其中 4 种整型、2种浮点类型、1种用于表示 Unicode 编码的字符单元的字符类型 char 和一种用于表示真值的布尔类型 boolean。

### 3.1 整型

#### long 类型

long 类型同样有正负，存储时占用 8 字节，其取值范围为 `-2^63` 到 `2^63-1`

```java
long l = 100000L 
long l1 = -100000L
```

> "L"理论上不分大小写，但是若写成"l"容易与数字"1"混淆，不容易分辩。所以最好大写。
> 这种类型主要使用在需要比较大整数的系统上


#### int 类型

int 是我们最熟悉的整数，可表示正负。存储时占用 4 字节。取值范围为 `-2^31` 到 `2^31-1 `

```java
int a = 100000
int a1 = -520000
```

> 一般地整型变量默认为 int 类型

#### short 类型

short 也有正负之分，存储时占用 2 字节，其取值范围为 `-2^15` 到 `2^15-1`

```java
short s = 100
short s1 = -1000
```
> short 数据类型也可以像 byte 那样节省空间。一个short变量是int型变量所占空间的二分之一

#### byte 类型

byte 类型可表示正负，存储时占用 1 字节，其取值范围为 `-2^7` 到 `2^7-1`

```java
byte b = 50
byte b = -50
```

> byte 类型用在大型数组中节约空间，主要代替整数，因为byte 变量占用的空间只有 int 类型的四分之一；

### 3.2 浮点类型

#### float 类型

float 类型表示单精度小数，存储时占用 4 字节。它在存储大型浮点数组时可节省内存空间，但是其**不能用来表示精确的值**。

```java
float f1 = 234.5f
```

#### double 类型

double 数据类型是双精度小数，存储时占用 8 字节。浮点数默认类型便是 double 类型，同样，它也**不能用来表示精确的值**，如货币。

```java
double d1 = 123.4b
```

> 因为 double 是默认类型，所以数字末尾的 `b ` 写不写均可

### 3.3 char 类型

char 类型用来表示单个字符，如 `'A'` 是编码 65 对应的字符常量。注意它不是字符串。Unicode 编码单元可以表示为十六进制值，其范围为 `\u0000` 到 `\Uffff`。

> 通常用来表示字符常量。

### 3.4 布尔类型

布尔类型只有两个值，便是 `True` 和 `False`

> **注意：**Java 中与 Python 中不同。Python 中与 C++ 中类似，数值 0 可以代替 `False` ，非 0 表示 `True` 而 Java中不可以！

## 4.变量

与 Python 中不同，Java 在使用变量时需要先声明，然后再进行初始化。可以是如下方式：

```java
float nice;
nice = 0.1f;
```

也可以是如下方式：

```java
int a = 1;
```

### 4.1 变量类型

1.**类变量**：位于类内，方法外。使用 `static` 修饰

> 类变量也被称为静态变量。
>
> 一个类无论创建了多少个对象，类都只拥有类变量的一份拷贝。
>
> 类变量在第一次被访问的时候创建，程序执行完毕后销毁。
>
> 类变量可以通过 `类名.变量名` 的方式访问。
>
> 类变量被声明为 public、static、final 类型的时候，名称使用大写字母。
>
> 类变量有默认值，如果是数值默认为0，如果是布尔默认为false，引用类型则默认为null。
>
> 类变量的值既可以在声明的时候指定，也可以在方法中指定。

2.**实例变量**：位于类内，方法外，但是没有 `static` 修饰

> **生命周期**：在创建对象的时候创建，在对象销毁时随之销毁。
>
> 实例变量必须至少被一个方法引用，使得调用者能够获取实例变量的值。
>
> 实例变量可以被访问修饰符修饰。
>
> 实例变量可以声明再使用前，也可以声明再使用后。
>
> 实例变量可以通过变量名访问，但在静态方法或者其他类中就需要使用其对象获取变量名进行访问。
>
> 实例变量一般设为私有如 `private String name`，表示其仅在该类可见。
>
> 实例变量有默认值，如果是数值默认为0，如果是布尔默认为false，引用类型则默认为null。
>
> 实例变量的值既可以在声明的时候指定，也可以在方法中指定。

3.**局部变量**：位于类的方法内。

> **生命周期**：在变量所在方法被执行时创建，执行完毕后死亡。
>
> 局部变量没有默认值，必须经过声明和初始化才可被使用。

```java
public class Variable{
    static float fl=0.1f;    // 类变量
    int i =3;  // 实例变量
    public void func(){
         String str="Ethan"; // 局部变量
    }
}
```

##  5.常量

Java 中设置常量有些特殊，并不像 Python 中直接赋值即可，需要利用关键字 final 指示。如下：

```java
final double CONSTANT = 2.65
```

**注意：**使用关键字 final 修饰的常量不能被修改，只能用一次。而且常量名一般全使用大写。

 与变量一致，常量也可以设置类常量，将其定义在 `main` 方法的外部，可以供类内所有方法使用。形式如下：

```java
public static final double CONSTANT = 2.65
```

> const 是 Java 保留的关键字，因此自己不可使用。

## 6.Java 修饰符

Java 的修饰符是用来定义类、方法或者变量的关键字，通常放在语句的最前端。主要分为两类，一类是访问修饰符，一类是非访问修饰符。

### 6.1 访问控制修饰符

**default**：此修饰符为**默认访问修饰符**（不使用修饰符的情况下，默认为此修饰符）。使用默认访问修饰符声明的变量和方法，对在同一个包内的类是可以使用访问的。同时，此接口中的变量都默认声明为`public static final`，方法则默认权限为 `public`。

```java
String version = "1.1.0";
boolean processOrder() {
   return true;
}
```

**private：**此修饰符为**私有访问修饰符**。它声明的方法、构造方法和变量都只能被所在的类内访问。声明为私有访问类型的变量只能通过类中公共的 `getter` 方法被外部类访问，而且类和接口不能声明为 `private` 。

> 私有访问修饰符是为了安全起见，保护私有内容不被访问，从而泄漏代码。

**public：**此修饰符为**共有访问修饰符**。被它声明的类、方法、构造方法和接口都能被其他任何类访问。如果需要使用其他包内的类，那么就需要导入了。还有一点，类所有的公有方法，都如同 Python 一样，可以被其子类继承。

> Java 中的 main() 方法必须设置成共有的，否则解释器不能运行。

**protected：**此修饰符为**受保护的访问修饰符**。此修饰符需分两种情况来分析说明：第一种是子类和基类在同一个包中时，包中的类可以访问任何声明为 protected 的方法、构造器和变量等；第二种是子类和基类不在同一包中时，子类实例对象可以访问其从基类继承的被声明为 protected 方法，而不能访问基类实例对象的 protected 方法。有点绕，好好理解一下。

protected 可以修饰数据成员、构造方法和方法，但是不能修饰类，当然，内部类不算。接口和接口的成员变量以及成员方法不能声明为 protected。

> 详解可看文章https://www.runoob.com/w3cnote/java-protected-keyword-detailed-explanation.html

#### 访问控制和继承

1.父类中声明为 public 的方法在子类中也必须为 public。

2.父类中声明为 protected 的方法在子类中要么声明为 protected，要么声明为 public，不能声明为 private。

3.父类中声明为 private 的方法，不能够被继承。

### 6.2 非访问修饰符

1.`static` 修饰符，用来修饰类方法和类变量。

2.`final` 修饰符，用来修饰类、方法和变量。final 修饰的类不能够被继承，修饰的方法不能被继承类重新定义，修饰的变量为常量，是不可修改的。

> final 修饰符通常和 static 修饰符一起使用来创建类常量。

3.`abstract` 修饰符，用来创建抽象类和抽象方法。

> 一个类不能同时被 abstract 和 final 修饰。如果一个类包含抽象方法，那么该类一定要声明为抽象类，否则将出现编译错误。

4.`synchronized` 和 `volatile` 修饰符，主要用于线程的编程。

> synchronized 关键字声明的方法同一时间只能被一个线程访问。synchronized 修饰符可以应用于四个访问修饰符。
>
> 序列化的对象包含被 transient 修饰的实例变量时，java 虚拟机(JVM)跳过该特定的变量。
>
> volatile 修饰的成员变量在每次被线程访问时，都强制从共享内存中重新读取该成员变量的值。而且，当成员变量发生变化时，会强制线程将变化值回写到共享内存。这样在任何时刻，两个不同的线程总是看到某个成员变量的同一个值。

#### 抽象类和抽象方法

**抽象类**顾名思义，是抽象的，不能创建实例对象。它存活的唯一理由就是为了将来对该类进行扩充。抽象类中可以包含抽象方法也可以包含非抽象方法。如果一个类包含若干个抽象方法，那么该类必须声明为抽象类。抽象类可以不包含抽象方法。

**抽象方法**就是没有实现，只是有这么个方法，具体实现在子类中书写。抽象方法不能被声明成 final 和 static。任何继承抽象类的子类必须实现父类的所有抽象方法，除非该子类也是抽象类。抽象方法的声明以分号结尾，例如：

```java
public abstract sample();
```



